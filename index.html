<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Linux Command Line Emulator</title>
    <style>
         * {
        box-sizing: border-box;
    }

    /* Add other CSS styles here... */
    
    .flashing-text {
        animation: flash 1s linear infinite;
    }

    @keyframes flash {
        0%, 50% { opacity: 1; }
        50.01%, 100% { opacity: 0; }
    }
        #splash-screen {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    background-color: black;
    color: lime;
    font-size: 14px;
    z-index: 1;
}

        body {
            font-family: monospace;
            background-color: black;
            margin: 0;
            padding: 0;
        }

        #splash-screen {
    display: flex;
    justify-content: center;
    align-items: center;
    /* Other existing styles */
}

.flashing-text {
    display: inline-block;
    text-align: center;
}

        #terminal {
            padding: 10px;
            color: lime;
            white-space: pre-wrap;
            font-size: 14px;
            min-height: 100vh;
        }

        #terminal:focus {
            outline: none;
        }

        .input-line {
            color: white;
        }
    </style>
</head>
<body>
  <div id="splash-screen" style="position: fixed; top: 0; left: 0; width: 100%; height: 100vh; display: flex; justify-content: center; align-items: center; background-color: black; color: lime; font-size: 14px; z-index: 1;">
    <pre>
        <!-- Add your ASCII art here -->
        <div id="splash-screen" style="position: fixed; top: 0; left: 0; width: 100%; height: 100vh; display: flex; flex-direction: column; justify-content: center; align-items: center; background-color: black; color: lime; font-size: 14px; z-index: 1; padding: 0; margin: 0;">
          <div style="display: inline-block; text-align: center;">
              <pre style="padding: 0; margin: 0;">
                  Welcome to
              </pre>
          </div>
          <pre style="padding: 0; margin: 0;">
              <!-- Add your ASCII art here -->
              _______                       __                    __             ______   __        ______ 
              /       \                     /  |                  /  |           /      \ /  |      /      |
              $$$$$$$  |  ______    _______ $$ |   __   ______   _$$ |_         /$$$$$$  |$$ |      $$$$$$/ 
              $$ |__$$ | /      \  /       |$$ |  /  | /      \ / $$   |        $$ |  $$/ $$ |        $$ |  
              $$    $$/ /$$$$$$  |/$$$$$$$/ $$ |_/$$/ /$$$$$$  |$$$$$$/         $$ |      $$ |        $$ |  
              $$$$$$$/  $$ |  $$ |$$ |      $$   $$<  $$    $$ |  $$ | __       $$ |   __ $$ |        $$ |  
              $$ |      $$ \__$$ |$$ \_____ $$$$$$  \ $$$$$$$$/   $$ |/  |      $$ \__/  |$$ |_____  _$$ |_ 
              $$ |      $$    $$/ $$       |$$ | $$  |$$       |  $$  $$/       $$    $$/ $$       |/ $$   |
              $$/        $$$$$$/   $$$$$$$/ $$/   $$/  $$$$$$$/    $$$$/         $$$$$$/  $$$$$$$$/ $$$$$$/ 
                                                                                                            
                                                                                                            
                                                                                                            
              
             
              
          </pre>
          <div style="display: inline-block; text-align: center;">
              <span class="flashing-text">Click anywhere in the terminal to get started.</span>
          </div>
      </div>
      

          <pre style="padding: 0; margin: 0;">
              <!-- Add your ASCII art here -->
              <!-- ... -->
          </pre>
          <div style="display: inline-block; text-align: center;">
              <span class="flashing-text">Click anywhere in the terminal to get started.</span>
          </div>
      </div>
      </div><span class="flashing-text" style="display: inline-block; text-align: center;">Click anywhere in the terminal to get started.</span>
    </pre>
</div>
<div id="terminal" contenteditable="true" spellcheck="false">Type here</div>
    <script>
      document.addEventListener('DOMContentLoaded', () => {
    const splashScreen = document.getElementById('splash-screen');
    const terminal = document.getElementById('terminal');

    // Function to hide the splash screen
    const hideSplashScreen = () => {
        splashScreen.style.display = 'none';
        splashScreen.removeEventListener('click', hideSplashScreen);
        terminal.focus();
    };

    // Hide the splash screen after 8.5 seconds
    setTimeout(hideSplashScreen, 8500);

    // Hide the splash screen when clicked
    splashScreen.addEventListener('click', hideSplashScreen);

    // Remove initial text when the user starts typing
    const removeInitialText = (e) => {
        if (!terminal.classList.contains('user-started-typing')) {
            terminal.textContent = '';
            terminal.classList.add('user-started-typing');
        }
    };

    terminal.addEventListener('keydown', (e) => {
    // Remove initial text when the user starts typing
    if (!terminal.classList.contains('user-started-typing')) {
        terminal.textContent = '';
        terminal.classList.add('user-started-typing');
    }

    // Check for Ctrl + C key combination
    if (e.ctrlKey && e.key === 'c') {
        e.preventDefault();
        e.stopPropagation();
        terminal.textContent = '';
        terminal.focus();
        // Move caret to the beginning
        const range = document.createRange();
        const selection = window.getSelection();
        range.setStart(terminal.firstChild, 0);
        range.collapse(true);
        selection.removeAllRanges();
        selection.addRange(range);
        return;
    }

    if (e.key === 'Enter') {
        e.preventDefault();
        const input = terminal.textContent.trim().split('\n').pop();
        processCommand(input);
    }
});

});


    // Set focus to the terminal after hiding the splash screen
    splashScreen.addEventListener('transitionend', () => {
        terminal.focus();

    setTimeout(() => {
        splashScreen.style.display = 'none';
    }, 8500);
});

terminal.addEventListener('mousedown', (e) => {
    const terminalRect = terminal.getBoundingClientRect();
    const clickPosition = e.clientX - terminalRect.left;

    if (clickPosition > terminalRect.width / 2) {
        setCaretToTopLeft();
    }
});

        const terminal = document.getElementById('terminal');
        terminal.addEventListener('keydown', (e) => {
    // Check for Ctrl + L key combination
    if (e.ctrlKey && e.key === 'l') {
        e.preventDefault();
        e.stopPropagation(); // Add this line
        terminal.textContent = '';
        terminal.focus();
        // Move caret to the beginning
        const range = document.createRange();
        const selection = window.getSelection();
        range.setStart(terminal.firstChild, 0);
        range.collapse(true);
        selection.removeAllRanges();
        selection.addRange(range);
        return;
    }

    if (e.key === 'Enter') {
        e.preventDefault();
        const input = terminal.textContent.trim().split('\n').pop();
        processCommand(input);
    }
});


let currentDirectory = '/';

function setCaretToTopLeft() {
    const range = document.createRange();
    const selection = window.getSelection();
    range.setStart(terminal.firstChild, 0);
    range.collapse(true);
    selection.removeAllRanges();
    selection.addRange(range);
}

function processCommand(input) {
    // ...
    // (The rest of the processCommand function)
    // ...

    terminal.textContent += `\n${output}\n`;
    preserveCaretPosition();
}

function processCommand(input) {
    const command = input.split(' ')[0];
    let output = '';

    switch (command) {
        case 'help':
            output = 'Available commands: help, echo, clear, pwd, ls, cd';
            break;
        case 'echo':
            output = input.substring(input.indexOf(' ') + 1);
            break;
    terminal.textContent = '';
    terminal.focus();
    // Move caret to the beginning
    const range = document.createRange();
    const selection = window.getSelection();
    range.setStart(terminal.firstChild, 0);
    range.collapse(true);
    selection.removeAllRanges();
    selection.addRange(range);
    return;
            return;
        case 'pwd':
            output = currentDirectory;
            break;
        case 'ls':
            output = Object.keys(fileSystem[currentDirectory]).join(' ');
            break;
        case 'cd':
            const targetDirectory = input.split(' ')[1];
            if (fileSystem.hasOwnProperty(targetDirectory)) {
                currentDirectory = targetDirectory;
            } else {
                output = `cd: ${targetDirectory}: No such directory`;
            }
            break;
        default:
            output = `Unknown command: ${command}`;
    }

    terminal.textContent += `\n${output}\n`;
    terminal.focus();
}

terminal.focus();

    </script>
</body>
</html>
